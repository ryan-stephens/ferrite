badchiefy@charon ~/ferrite $ ./ferrite-run.sh
2026-02-24T22:24:30.575211Z  INFO ferrite: Loaded config from config/ferrite.toml
2026-02-24T22:24:30.575391Z  INFO ferrite_core::config: Data directory: /mnt/mpathj/badchiefy/ferrite/data
2026-02-24T22:24:30.586759Z  INFO ferrite_transcode::hwaccel: HW encoder detection: nvenc=false, qsv=false, vaapi=false
2026-02-24T22:24:30.586776Z  INFO ferrite_transcode::hwaccel: No HW encoders available, using software (libx264)
2026-02-24T22:24:30.586782Z  INFO ferrite: Video encoder: libx264 (backend=software)
2026-02-24T22:24:30.590528Z  INFO ferrite_db: Database connected at /mnt/mpathj/badchiefy/ferrite/data/ferrite.db
2026-02-24T22:24:30.590802Z  INFO ferrite_db: Database migrations applied
2026-02-24T22:24:30.613767Z  INFO ferrite_scanner::watcher: Watching 1 library directories for changes
2026-02-24T22:24:30.613898Z  INFO ferrite: Filesystem watcher started
2026-02-24T22:24:30.615829Z  INFO ferrite_api::router: Serving SPA from: /mnt/mpathj/badchiefy/ferrite/static
2026-02-24T22:24:30.617160Z  INFO ferrite: DLNA server enabled (Ferrite Media Server)
2026-02-24T22:24:30.617173Z  INFO ferrite: Ferrite starting on http://0.0.0.0:12335
2026-02-24T22:24:30.617182Z  INFO ferrite: Open http://localhost:12335 in your browser
2026-02-24T22:24:30.617226Z  WARN ferrite: SSDP server stopped (DLNA discovery unavailable): Operation not permitted (os error 1). On Linux, binding port 1900 requires CAP_NET_BIND_SERVICE or running as root.
2026-02-24T22:24:34.058459Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_api::handlers::stream: Transcode permit acquired: op=hls-master media_id=891bda8b-8c54-4884-8a02-0f4a3246a4d8 wait_ms=0.0
2026-02-24T22:24:34.058526Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_stream::hls: Creating single HLS session for media 891bda8b-8c54-4884-8a02-0f4a3246a4d8 at 0.0s variant=640p awaiting_promotion=true
2026-02-24T22:24:34.058736Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_stream::hls: Creating HLS session 92a6b5d6-6c10-4d55-a9c8-ab8532d78670 for media 891bda8b-8c54-4884-8a02-0f4a3246a4d8 at 0.0s variant=640p (/home/badchiefy/files/tv/A Knight of the Seven Kingdoms/Season 1/A.Knight.of.the.Seven.Kingdoms.S01E01.The.Hedge.Knight.720p.HMAX.WEB-DL.DDP5.1.H.264-NTb.mkv)
2026-02-24T22:24:34.058812Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_stream::hls: HLS video passthrough: source is H.264 with no filters, using -c:v copy
2026-02-24T22:24:34.058834Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_stream::hls: HLS ffmpeg args: ["-hide_banner", "-loglevel", "error", "-nostdin", "-i", "/home/badchiefy/files/tv/A Knight of the Seven Kingdoms/Season 1/A.Knight.of.the.Seven.Kingdoms.S01E01.The.Hedge.Knight.720p.HMAX.WEB-DL.DDP5.1.H.264-NTb.mkv", "-map", "0:v:0", "-map", "0:a:0", "-c:v", "copy", "-c:a", "aac", "-b:a", "128k", "-ac", "2", "-f", "hls", "-hls_time", "6", "-hls_list_size", "0", "-hls_segment_type", "fmp4", "-hls_fmp4_init_filename", "init.mp4", "-hls_segment_filename", "seg_%03d.m4s", "-hls_flags", "independent_segments+temp_file", "playlist.m3u8"]
2026-02-24T22:24:34.468920Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_stream::hls: HLS session 92a6b5d6-6c10-4d55-a9c8-ab8532d78670 ready (first segment generated in 0.4s)
2026-02-24T22:24:34.469005Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_api::handlers::stream: HLS master playlist for 891bda8b-8c54-4884-8a02-0f4a3246a4d8: variants=1 reused=false mode=fast seek_source=none db=1ms seek=0ms session=411ms total=412ms
2026-02-24T22:24:37.404144Z  INFO http_request{method=POST uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/seek?start=693.487&playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_api::handlers::stream: Transcode permit acquired: op=hls-seek media_id=891bda8b-8c54-4884-8a02-0f4a3246a4d8 wait_ms=0.0
2026-02-24T22:24:37.411131Z  INFO http_request{method=POST uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/seek?start=693.487&playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_stream::hls: Destroyed HLS session 92a6b5d6-6c10-4d55-a9c8-ab8532d78670
2026-02-24T22:24:37.411157Z  INFO http_request{method=POST uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/seek?start=693.487&playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_stream::hls: Creating single HLS session for media 891bda8b-8c54-4884-8a02-0f4a3246a4d8 at 692.7s variant=640p awaiting_promotion=false
2026-02-24T22:24:37.411509Z  INFO http_request{method=POST uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/seek?start=693.487&playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_stream::hls: Creating HLS session f10be0d3-6aa6-4362-85df-b9f47c5a48f6 for media 891bda8b-8c54-4884-8a02-0f4a3246a4d8 at 692.7s variant=640p (/home/badchiefy/files/tv/A Knight of the Seven Kingdoms/Season 1/A.Knight.of.the.Seven.Kingdoms.S01E01.The.Hedge.Knight.720p.HMAX.WEB-DL.DDP5.1.H.264-NTb.mkv)
2026-02-24T22:24:37.411553Z  INFO http_request{method=POST uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/seek?start=693.487&playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_stream::hls: HLS ffmpeg args: ["-hide_banner", "-loglevel", "error", "-nostdin", "-ss", "692.692", "-i", "/home/badchiefy/files/tv/A Knight of the Seven Kingdoms/Season 1/A.Knight.of.the.Seven.Kingdoms.S01E01.The.Hedge.Knight.720p.HMAX.WEB-DL.DDP5.1.H.264-NTb.mkv", "-ss", "0.795", "-map", "0:v:0", "-map", "0:a:0", "-c:v", "libx264", "-preset", "veryfast", "-crf", "23", "-profile:v", "high", "-level", "4.1", "-pix_fmt", "yuv420p", "-g", "144", "-keyint_min", "144", "-c:a", "aac", "-b:a", "128k", "-ac", "2", "-f", "hls", "-hls_time", "6", "-hls_list_size", "30", "-hls_segment_type", "fmp4", "-hls_fmp4_init_filename", "init.mp4", "-hls_segment_filename", "seg_%03d.m4s", "-hls_flags", "independent_segments+delete_segments+temp_file", "playlist.m3u8"]
2026-02-24T22:24:37.441270Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [hls @ 0x55aa54be2ec0] Failed to open file 'seg_027.m4s.tmp'
2026-02-24T22:24:37.441309Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [aost#0:1/aac @ 0x55aa54bd1700] Error submitting a packet to the muxer: No such file or directory
2026-02-24T22:24:37.441325Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: fatal error detected, marking session failed
2026-02-24T22:24:37.441339Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]:     Last message repeated 1 times
2026-02-24T22:24:37.441370Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [out#0/hls @ 0x55aa54bdce00] Error muxing a packet
2026-02-24T22:24:37.441383Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [out#0/hls @ 0x55aa54bdce00] Task finished with error code: -2 (No such file or directory)
2026-02-24T22:24:37.441394Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: fatal error detected, marking session failed
2026-02-24T22:24:37.441404Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [out#0/hls @ 0x55aa54bdce00] Terminating thread with return code -2 (No such file or directory)
2026-02-24T22:24:37.441414Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: fatal error detected, marking session failed
2026-02-24T22:24:37.458351Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [hls @ 0x55aa54be2ec0] Failed to open file 'seg_027.m4s.tmp'
2026-02-24T22:24:37.458539Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [hls @ 0x55aa54be2ec0] failed to rename file seg_027.m4s.tmp to seg_027.m4s: No such file or directory
2026-02-24T22:24:37.458553Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: fatal error detected, marking session failed
2026-02-24T22:24:37.458574Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: [hls @ 0x55aa54be2ec0] failed to rename file playlist.m3u8.tmp to playlist.m3u8: No such file or directory
2026-02-24T22:24:37.458589Z  WARN ferrite_stream::hls: ffmpeg HLS [92a6b5d6-6c10-4d55-a9c8-ab8532d78670]: fatal error detected, marking session failed
2026-02-24T22:24:38.231346Z  INFO http_request{method=POST uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/seek?start=693.487&playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_stream::hls: HLS session f10be0d3-6aa6-4362-85df-b9f47c5a48f6 ready (first segment generated in 0.8s)
2026-02-24T22:24:38.231406Z  INFO http_request{method=POST uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/seek?start=693.487&playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_api::handlers::stream: HLS seek for 891bda8b-8c54-4884-8a02-0f4a3246a4d8: start=692.7s mode=fast seek_source=index db=1ms seek=1ms session=827ms total=829ms
2026-02-24T22:24:38.284076Z  INFO http_request{method=GET uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/master.m3u8?start=693.487&token=[REDACTED]&playback_session_id=6bca69f5%2D38a9%2D4b35%2Dada4%2D068ec246faf6}: ferrite_api::handlers::stream: HLS master playlist for 891bda8b-8c54-4884-8a02-0f4a3246a4d8: variants=1 reused=true mode=fast seek_source=index db=0ms seek=0ms session=0ms total=1ms
2026-02-24T22:24:40.406743Z  INFO http_request{method=DELETE uri=/api/stream/891bda8b-8c54-4884-8a02-0f4a3246a4d8/hls/session/stop?playback_session_id=6bca69f5-38a9-4b35-ada4-068ec246faf6}: ferrite_stream::hls: Destroyed HLS session f10be0d3-6aa6-4362-85df-b9f47c5a48f6
2026-02-24T22:24:40.418994Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [hls @ 0x55583b86b3c0] Failed to open file 'seg_008.m4s.tmp'
2026-02-24T22:24:40.419040Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [vost#0:0/libx264 @ 0x55583b68c540] Error submitting a packet to the muxer: No such file or directory
2026-02-24T22:24:40.419052Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: fatal error detected, marking session failed
2026-02-24T22:24:40.419063Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]:     Last message repeated 1 times
2026-02-24T22:24:40.419074Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [out#0/hls @ 0x55583b86b280] Error muxing a packet
2026-02-24T22:24:40.419086Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [out#0/hls @ 0x55583b86b280] Task finished with error code: -2 (No such file or directory)
2026-02-24T22:24:40.419097Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: fatal error detected, marking session failed
2026-02-24T22:24:40.419107Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [out#0/hls @ 0x55583b86b280] Terminating thread with return code -2 (No such file or directory)
2026-02-24T22:24:40.419117Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: fatal error detected, marking session failed
2026-02-24T22:24:40.499494Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [hls @ 0x55583b86b3c0] Failed to open file 'seg_008.m4s.tmp'
2026-02-24T22:24:40.499548Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [hls @ 0x55583b86b3c0] failed to rename file seg_008.m4s.tmp to seg_008.m4s: No such file or directory
2026-02-24T22:24:40.499561Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: fatal error detected, marking session failed
2026-02-24T22:24:40.499571Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: [hls @ 0x55583b86b3c0] failed to rename file playlist.m3u8.tmp to playlist.m3u8: No such file or directory
2026-02-24T22:24:40.499583Z  WARN ferrite_stream::hls: ffmpeg HLS [f10be0d3-6aa6-4362-85df-b9f47c5a48f6]: fatal error detected, marking session failed
